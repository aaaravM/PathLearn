## PathLearn Architecture (RNN + DRL + RAG + LLM)

**Student RNN (LSTM)**
- Defined in `backend/models/student_model.py` as `StudentCognitiveModel`.
- Features per interaction: correctness, time_taken, attempts, difficulty, days_since, confidence, hesitation, hint_used, skip, mastery_score + fillers.
- Predicts next performance, retention, optimal difficulty, and time estimate.
- Runtime inference: `StudentProfile.predict_performance()` calls the LSTM to produce retention/probability and recommended difficulty.
- Training hook: log interactions to `ml_training/data` and train via a CLI script (see `docs/training_guide.md`).

**DRL Curriculum Optimizer**
- Placeholder class in `backend/models/drl_agent.py`.
- Consumes state (from RNN/fingerprint) + latest interaction to recommend next difficulty/lesson.
- Extend by logging state/action/reward tuples and training a small policy network; load weights similar to the RNN.

**RAG + LLM**
- Engine: `backend/models/rag_engine.py` uses HuggingFace InferenceClient against `mistralai/Mistral-7B-Instruct-v0.2` with your HF token.
- Prompts include career context and student fingerprint for lessons, explanations, practice, and placement tests.
- Practice generation asks for mixed question types (MCQ/True/False/short/essay).

**Flow**
1) User signs in (Firebase) → `/api/auth/session` sets session + authed.
2) Select course/track → `/api/select-course` stores current track.
3) Placement (optional) → `/api/placement` (and `/api/placement-test` generated by LLM).
4) Lessons: `/api/lesson` calls `generate_lesson` → RAGEngine for theory + practice; submissions hit `/api/submit-answer`, updating StudentProfile history and DRL recs.
5) Analytics pulls RNN predictions, fingerprints, and retention curves from `StudentProfile`.

**Training**
- See `docs/training_guide.md` for CLI steps to train/load the RNN and wire DRL training.
